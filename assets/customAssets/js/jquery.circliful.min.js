"use strict";!function(e){e.fn.circliful=function(t,r){var n=e.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,percentageX:100,percentageY:113,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",textY:null,textX:null,multiPercentage:0,percentages:[],multiPercentageLegend:0,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1,animateInView:!1,decimals:0,alwaysDecimals:!1,title:"Circle Chart",description:"",progressColor:null},t);return this.each(function(){function t(){var e=P,t=W;if(1===n.multiPercentage){var r,l,a=n.percentages,c=360;for(r=0;r<a.length;++r)l=a[r].percent,t=c/100*l,e=d.find("#circle"+(r+1)),r>0&&(c+=62.5,t=c/100*l),o(e,t,c,l)}else o(e,t,360,l)}function o(t,o,l,a){var c=window.setInterval(function(){B>=o?(window.clearInterval(c),S=1,"function"==typeof r&&r.call(this)):(B+=T,z+=X),n.halfCircle?2*B/(l/100)>=a&&1===S&&(B=l/100*a/2):B/(l/100)>=a&&1===S&&(B=l/100*a),z>n.target&&1===S&&(z=n.target),null===n.replacePercentageByText&&(Y=n.halfCircle?parseFloat(100*B/l*2):parseFloat(100*B/l),Y=Y.toFixed(n.decimals),!n.alwaysDecimals&&(0===a||a>1&&1!==S)&&(Y=parseInt(Y))),t.attr("stroke-dasharray",B+", 20000"),1!==n.multiPercentage?1===n.showPercent?b.find(".number").text(Y):(b.find(".number").text(z),b.find(".percent").text("")):(b.find(".number").text(""),b.find(".percent").text("")),null!==w&&e.each(w,function(e,r){n.halfCircle&&(e/=2),B>=e*(l/100)&&t.css({stroke:r,transition:"stroke 0.1s linear"})})}.bind(t),v)}function l(){var t=-1!==navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html",r=e(t).scrollTop(),n=r+e(window).height(),o=Math.round(P.offset().top),l=o+P.height();return n>o&&l>r}function a(){P.hasClass("start")||l(P)&&(P.addClass("start"),setTimeout(t,250))}function c(t,r){e.each(t,function(e,n){e.toLowerCase()in r&&(t[e]=r[e.toLowerCase()])})}function i(){if(1===n.multiPercentage){var t,r,o,l,a,c=n.percentages,i=47,p=360,u=-90;for(t=0;t<c.length;++t)o=c[t].percent,l=c[t].color,r=p/100*o,t>0&&(p+=62.5,r=p/100*o),i+=10,a+='<circle cx="100" cy="100" r="'+i+'" class="border" fill="'+n.fillColor+'" stroke="'+n.backgroundColor+'" stroke-width="'+m+'" stroke-dasharray="'+p+'" transform="rotate('+u+',100,100)" /><circle class="circle" id="circle'+(t+1)+'" data-percent="'+o+'" cx="100" cy="100" r="'+i+'" class="border" fill="none" stroke="'+l+'" stroke-width="'+n.foregroundBorderWidth+'" stroke-dasharray="'+r+',20000" transform="rotate('+u+',100,100)" />';d.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof f?f:"")+a+g+'<text class="timer" text-anchor="middle" x="'+C+'" y="'+y+'" style="font-size: '+n.percentageTextSize+"px; "+x+";"+n.textAdditionalCss+'" fill="'+n.fontColor+'"><tspan class="number">'+(null===n.replacePercentageByText?0:n.replacePercentageByText)+'</tspan><tspan class="percent">'+(n.noPercentageSign||null!==n.replacePercentageByText?"":"%")+"</tspan></text>")),1===n.multiPercentageLegend&&s()}else d.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof f?f:"")+'<circle cx="100" cy="100" r="57" class="border" fill="'+n.fillColor+'" stroke="'+n.backgroundColor+'" stroke-width="'+m+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+n.foregroundColor+'" stroke-width="'+n.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+n.pointSize+'" fill="'+n.pointColor+'" />'+g+'<text class="timer" text-anchor="middle" x="'+C+'" y="'+y+'" style="font-size: '+n.percentageTextSize+"px; "+x+";"+n.textAdditionalCss+'" fill="'+n.fontColor+'"><tspan class="number">'+(null===n.replacePercentageByText?0:n.replacePercentageByText)+'</tspan><tspan class="percent">'+(n.noPercentageSign||null!==n.replacePercentageByText?"":"%")+"</tspan></text>"))}function s(){var t,r=d.height(),o=d.width(),l=n.percentages,a="";for(t=0;t<l.length;++t){var c=l[t].title,i=l[t].color,s=l[t].percent;a+='<div><span class="color-box" style="background: '+i+'"></span>'+c+", "+s+"%</div>"}d.append(e("<div/>").append(a).attr("style","position:absolute;top:"+r/3+"px;left:"+(o+20)+"px").attr("class","legend-line"))}var d=e(this);c(n,d.data());var x,f,g,p=n.percent,u=83,h=100,y=n.percentageY,C=n.percentageX,m=n.backgroundBorderWidth,w=n.progressColor;if(n.halfCircle?"left"===n.iconPosition?(h=80,u=100,C=117,y=100):n.halfCircle&&(u=80,y=100):"bottom"===n.iconPosition?(u=124,y=95):"left"===n.iconPosition?(h=80,u=110,C=117):"middle"===n.iconPosition?(1!==n.multiPercentage&&(f='<g stroke="'+("none"!==n.backgroundColor?n.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',f+='<g stroke="'+("none"!==n.backgroundColor?n.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',C=170,y=35),u=110):"right"===n.iconPosition?(h=120,u=110,C=80):"top"===n.iconPosition&&"none"!==n.icon&&(y=120),n.targetPercent>0&&n.halfCircle!==!0&&(y=95,f='<g stroke="'+("none"!==n.backgroundColor?n.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',f+='<text text-anchor="middle" x="'+C+'" y="120" style="font-size: '+n.targetTextSize+'px;" fill="'+n.targetColor+'">'+n.targetPercent+(n.noPercentageSign&&null===n.replacePercentageByText?"":"%")+"</text>",f+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+n.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',f+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+n.targetColor+'" stroke-width="3" stroke-dasharray="'+4.35*n.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!==n.text&&(f+=n.halfCircle?n.textBelow?'<text text-anchor="middle" x="'+(null!==n.textX?n.textX:"100")+'" y="'+(null!==n.textY?n.textY:"64%")+'" style="'+n.textStyle+'" fill="'+n.textColor+'">'+n.text+"</text>":'<text text-anchor="middle" x="'+(null!==n.textX?n.textX:"100")+'" y="'+(null!==n.textY?n.textY:"115")+'" style="'+n.textStyle+'" fill="'+n.textColor+'">'+n.text+"</text>":n.textBelow?'<text text-anchor="middle" x="'+(null!==n.textX?n.textX:"100")+'" y="'+(null!==n.textY?n.textY:"99%")+'" style="'+n.textStyle+'" fill="'+n.textColor+'">'+n.text+"</text>":'<text text-anchor="middle" x="'+(null!==n.textX?n.textX:"100")+'" y="'+(null!==n.textY?n.textY:"115")+'" style="'+n.textStyle+'" fill="'+n.textColor+'">'+n.text+"</text>"),"none"!==n.icon&&(g='<text text-anchor="middle" x="'+h+'" y="'+u+'" class="icon" style="font-size: '+n.iconSize+'px" fill="'+n.iconColor+'">&#x'+n.icon+"</text>"),n.halfCircle){var k='transform="rotate(-180,100,100)"';d.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof f?f:"")+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+n.fillColor+'" stroke="'+n.backgroundColor+'" stroke-width="'+m+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+n.foregroundColor+'" stroke-width="'+n.foregroundBorderWidth+'" stroke-dasharray="0,20000" '+k+' /><circle cx="100" cy="100" r="'+n.pointSize+'" fill="'+n.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+g+'<text class="timer" text-anchor="middle" x="'+C+'" y="'+y+'" style="font-size: '+n.percentageTextSize+"px; "+x+";"+n.textAdditionalCss+'" fill="'+n.fontColor+'"><tspan class="number">'+(null===n.replacePercentageByText?0:n.replacePercentageByText)+'</tspan><tspan class="percent">'+(n.noPercentageSign||null!==n.replacePercentageByText?"":"%")+"</tspan></text>"))}else i();var P=d.find(".circle"),b=d.find(".timer"),v=30,B=0,T=n.animationStep,S=0,z=0,X=0,Y=p,W=3.6*p;n.halfCircle&&(W=3.6*p/2),null!==n.replacePercentageByText&&(Y=n.replacePercentageByText),n.start>0&&n.target>0&&(p=n.start/(n.target/100),X=n.target/100),1===n.animation?n.animateInView?e(window).scroll(function(){a()}):t():1!==n.multiPercentage?(P.attr("stroke-dasharray",W+", 20000"),1===n.showPercent?b.find(".number").text(Y):(b.find(".number").text(n.target),b.find(".percent").text(""))):null!==n.replacePercentageByText&&(b.find(".number").text(n.replacePercentageByText),b.find(".percent").text(""))})}}(jQuery);